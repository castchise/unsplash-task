(this["webpackJsonpunsplash-test"]=this["webpackJsonpunsplash-test"]||[]).push([[0],{43:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),a=s(30),c=s.n(a),o=(s(43),s(12)),i=s(13),l=s(15),u=s(14),h=s(19),p=s(3),d=s(6),m=s(21),j=s(5),b=s.n(j),f=s(11),x=s(20),g=function(e,t){e.stopPropagation(),navigator.clipboard.writeText(t.urls.regular).then((function(){}),(function(e){return console.log(e)}))};function O(e){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=window.localStorage,s=Object(m.a)(JSON.parse(t["unsplash-app-storage"]||"[]"));s.push(e),t.setItem("unsplash-app-storage",JSON.stringify(s))}var w=s(7),N=s(1),k=Object(p.f)((function(e){var t=e.history,s=e.element,n=(e.cyanHandler,e.copyHandler),r=s.alt_description||s.description;return r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),Object(N.jsxs)("div",{className:"p-5 cursor-zoom-in z-20 absolute inset-0 opacity-0 transition-opacity hover:opacity-100 active:cursor-zoom-out",onClick:function(){return t.push({pathname:"/image/".concat(s.id),state:{element:s}})},children:[r?Object(N.jsx)("a",{href:s.links.html,target:"_blank",rel:"noreferrer",className:"relative z-10 block text-white font-normal text-2xl truncate transition-all opacity-80 hover:opacity-100",children:r}):null,Object(N.jsxs)("p",{className:"z-10 relative uppercase text-md font-semibold text-white transition-all opacity-60 hover:opacity-90",children:["by\xa0",Object(N.jsxs)("a",{href:s.user.links.html,target:"_blank",rel:"noreferrer",children:[s.user.first_name,s.user.last_name?" ".concat(s.user.last_name):null]})]}),Object(N.jsx)("div",{className:"cursor-pointer inline-flex items-center justify-center shadow-lg absolute right-3 z-10 bg-white rounded-full",style:{height:30,width:30,bottom:"5rem"},onClick:function(e){return n(e,s)},children:Object(N.jsx)(w.b,{size:18,className:"opacity-30 transition-opacity duration-200 hover:opacity-100"})}),Object(N.jsx)("div",{className:"cursor-pointer inline-flex items-center justify-center shadow-lg absolute right-3 z-10 bg-white rounded-full",style:{height:30,width:30,bottom:"1rem"},onClick:function(e){e.stopPropagation(),v(s)},children:Object(N.jsx)(w.a,{size:20,className:"opacity-30 transition-opacity duration-200 hover:opacity-100"})}),Object(N.jsx)("div",{className:"absolute inset-0 z-0 h-full w-full bg-black-cover bg-opacity-20"})]})})),S=s(37),_=(s(53),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={isLoaded:!1,height:600,width:400},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.props.height<this.props.width&&this.setState({height:400})}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"relative",style:{paddingBottom:"".concat(this.props.height/this.props.width*100,"%")},children:[Object(N.jsx)("img",{src:this.props.urls.regular,alt:this.props.alt_description,className:"absolute rounded w-full transition-all ".concat(this.state.isLoaded?"opacity-100":"opacity-0"),onLoad:function(){e.setState({isLoaded:!0})}}),Object(N.jsx)(S.a,{hash:this.props.blur_hash,width:this.props.width,height:this.props.height,color:this.props.color,resolutionX:32,resolutionY:32,punch:1,className:"preload absolute inset-0 transition-all ".concat(this.state.isLoaded?"opacity-0 ":"opacity-100")})]})}}]),s}(r.a.Component)),C=function(e){return Object(N.jsxs)("div",{className:"relative mb-5",children:[Object(N.jsx)(_,Object(d.a)({},e)),Object(N.jsx)(k,{element:e,copyHandler:g})]})},L=s(33),T={500:1,768:2,default:3},z=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).updateListOnScroll=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Math.floor(window.scrollY/(e.getDocHeight()-window.innerHeight)*100)>70)||e.state.loading){t.next=6;break}return e.setState((function(e){return{page:e.page+1,loading:!e.loading}})),t.next=5,e.getUnsplashPhotos(20);case 5:e.setState((function(e){return{loading:!e.loading}}));case 6:case"end":return t.stop()}}),t)}))),e.getDocHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},e.getUnsplashPhotos=function(){var t=Object(f.a)(b.a.mark((function t(s){var n,r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(x.a)({accessKey:"0ZpmaJxEBHSlQAtQ4_EaJ1wSe1J5S-c1WTEA8duYfOU"}),t.next=3,n.photos.list({page:e.state.page,perPage:s||20});case 3:r=t.sent,a=r.response,c=e.state.photosList.concat(e.removeAdPictures(a.results)),e.setState({photosList:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getLocalPhotos=function(){var t=window.localStorage,s=Object(m.a)(JSON.parse(t["unsplash-app-storage"]||"[]"));s=s.filter((function(e,t,s){return s.findIndex((function(t){return t.id===e.id}))===t})),e.setState({photosList:s})},e.removeAdPictures=function(e){return e.filter((function(e){return!e.sponsorship&&(e.loaded=!1,e)}))},e.state={photosList:[],page:1,loading:!1},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unsplash"!==this.props.sourceType){e.next=5;break}return e.next=3,this.getUnsplashPhotos();case 3:e.next=6;break;case 5:"local"===this.props.sourceType&&this.getLocalPhotos();case 6:window.addEventListener("scroll",this.updateListOnScroll);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unsplash"!==this.props.sourceType||"local"!==t.sourceType){e.next=6;break}return this.setState({photosList:[]}),e.next=4,this.getUnsplashPhotos();case 4:e.next=7;break;case 6:"local"===this.props.sourceType&&"unsplash"===t.sourceType&&(this.setState({photosList:[]}),this.getLocalPhotos());case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(N.jsxs)("div",{className:"p-5 sm:p-7 md:p-10",children:[Object(N.jsx)(L.a,{breakpointCols:T,className:"my-masonry-grid flex -ml-5",columnClassName:"my-masonry-grid_column bg-clip-padding pl-5",children:this.state.photosList.map((function(e){return Object(n.createElement)(C,Object(d.a)(Object(d.a)({},e),{},{key:e.id}))}))}),"local"===this.props.sourceType&&0===this.state.photosList.length?Object(N.jsxs)("div",{className:"mt-24 w-full flex-col text-center ",children:[Object(N.jsx)("p",{className:"mb-5 font-semibold text-4xl",children:"No stored photos found! \ud83d\ude22"}),Object(N.jsx)("p",{className:"text-xl",children:"Change source type and try to add them to your local gallery!"})]}):null]})}}]),s}(r.a.Component),H=function(e){return Object(N.jsxs)("div",{className:"mt-3 flex justify-center flex-wrap sm:justify-start",children:[e.portfolio_url?Object(N.jsxs)("a",{href:"".concat(e.portfolio_url),target:"_blank",rel:"noreferrer",className:"flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline",children:[Object(N.jsx)(w.c,{size:20}),Object(N.jsx)("span",{className:"ml-1",children:e.portfolio_url})]}):null,e.instagram_username?Object(N.jsxs)("a",{href:"https://www.instagram.com/".concat(e.instagram_username),target:"_blank",rel:"noreferrer",className:"".concat(e.portfolio_url?"ml-2 sm:ml-5":""," flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline"),children:[Object(N.jsx)(w.f,{size:20}),Object(N.jsx)("span",{className:"ml-1",children:e.instagram_username})]}):null,e.twitter_username?Object(N.jsxs)("a",{href:"https://www.twitter.com/".concat(e.twitter_username),target:"_blank",rel:"noreferrer",className:"".concat(e.portfolio_url||e.instagram_username?"ml-2 sm:ml-5":""," flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline"),children:[Object(N.jsx)(w.g,{size:20}),Object(N.jsx)("span",{className:"ml-1",children:e.twitter_username})]}):null]})},P=function(e){return Object(N.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)("div",{className:"rounded-full overflow-hidden flex-shrink-0",style:{height:40,width:40},children:Object(N.jsx)("img",{src:e.profile_image.medium,alt:""})}),Object(N.jsxs)("div",{className:"ml-3",children:[Object(N.jsxs)("h2",{className:"text-3xl text-gray-700 font-semibold tracking-tight",children:[Object(N.jsx)("span",{children:e.first_name}),e.last_name?Object(N.jsxs)("span",{children:[" ",e.last_name]}):null]}),e.bio?Object(N.jsx)("h3",{className:"text-xl text-gray-400",children:e.bio}):null]})]}),Object(N.jsx)(H,Object(d.a)({},e))]})},E=s(38),J=function(e){var t=e.children,s=Object(E.a)(e,["children"]);return Object(N.jsx)("button",Object(d.a)(Object(d.a)({className:"py-3 px-10 outline-none border rounded text-xl text-gray-500 border-gray-300 uppercase focus:outline-none hover:bg-gray-500 hover:text-white ".concat(s.contentClasses)},s),{},{children:t}))},U=function(e){function t(e){return s.apply(this,arguments)}function s(){return(s=Object(f.a)(b.a.mark((function t(s){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.createElement("a"),t.next=3,O(e.urls[s]);case 3:n.href=t.sent,n.download="",document.body.appendChild(n),n.click(),document.body.removeChild(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(N.jsxs)("div",{className:"mt-3 flex flex-col items-center",children:[Object(N.jsx)("p",{className:"text-2xl text-gray-500 mb-2",children:"Download:"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(J,{contentClasses:"mr-5",onClick:function(){return t("small")},children:"Small"}),Object(N.jsx)(J,{contentClasses:"mr-5",onClick:function(){return t("regular")},children:"Medium"}),Object(N.jsx)(J,{onClick:function(){return t("full")},children:"Large"})]})]})},A=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={element:{}},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(x.a)({accessKey:"0ZpmaJxEBHSlQAtQ4_EaJ1wSe1J5S-c1WTEA8duYfOU"}),e.next=3,t.photos.get({photoId:this.props.match.params.slug});case 3:s=e.sent,n=s.response,this.setState({element:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"relative flex items-center justify-center",children:[this.state.element.id?Object(N.jsxs)("div",{className:"mt-10 w-full ".concat(this.state.element.height>this.state.element.width?"max-w-500":"max-w-750"),children:[Object(N.jsx)(P,Object(d.a)({},this.state.element.user)),Object(N.jsxs)("div",{className:"relative",children:[this.state.element.location.title?Object(N.jsxs)("h4",{className:"flex items-center text-gray-300 absolute top-3 right-3 z-10 sm:ml-auto",children:[Object(N.jsx)(w.e,{size:15}),Object(N.jsx)("span",{className:"text-1xl",children:this.state.element.location.title})]}):null,Object(N.jsx)(_,Object(d.a)({},this.state.element))]}),Object(N.jsx)(U,Object(d.a)({},this.state.element))]}):null,Object(N.jsx)("div",{className:"cursor-pointer fixed right-1 top-2 sm:absolute sm:right-72 sm:top-12 border bg-white rounded-full shadow-xl flex items-center justify-center transform transition-transform hover:bg-gray-100 hover:translate-y-1",style:{height:45,width:45},onClick:function(){return e.props.history.push("/")},children:Object(N.jsx)(w.d,{size:25})}),Object(N.jsx)("div",{className:"cursor-pointer fixed right-1 top-24 sm:absolute sm:right-72 sm:top-36 border bg-white rounded-full shadow-xl flex items-center justify-center transform transition-transform hover:bg-gray-100 hover:translate-y-1",style:{height:45,width:45},onClick:function(){return v(e.state.element)},children:Object(N.jsx)(w.a,{size:35})})]})}}]),s}(r.a.Component),D=s(35),M=s(36),B=Object(p.f)((function(e){var t=e.sourceType,s=e.changeSourceType,n=e.history;return Object(N.jsx)("header",{className:"py-5 shadow-md sticky top-0 left-0 w-full z-50 bg-white",children:Object(N.jsxs)("div",{className:"max-w-1200 mx-auto flex items-center px-5 md:px-10",children:[Object(N.jsxs)("div",{className:"flex cursor-pointer",onClick:function(){return n.push("/")},children:["unsplash"===t?Object(N.jsx)(D.a,{size:25}):Object(N.jsx)(M.a,{size:25}),Object(N.jsxs)("p",{className:"font-bold leading-none ml-2 flex flex-col",children:["unsplash"===t?Object(N.jsx)("span",{className:"text-xl",children:"UNSPLASH"}):Object(N.jsx)("span",{className:"text-xl",children:"LOCAL"}),Object(N.jsx)("span",{className:"-mt-1 font-normal",children:"gallery"})]})]}),Object(N.jsx)("div",{className:"ml-auto cursor-pointer transition-transform transform hover:rotate-180 active:rotate-360",onClick:function(){return s("unsplash"===t?"local":"unsplash")},children:Object(N.jsx)(w.h,{size:25})})]})})})),I=(s(54),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).changeSourceType=function(t){e.setState({sourceType:t})},e.state={sourceType:"unsplash"},e}return Object(i.a)(s,[{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(B,{sourceType:this.state.sourceType,changeSourceType:this.changeSourceType}),Object(N.jsx)("main",{className:"max-w-1200 mx-auto",children:Object(N.jsxs)(p.c,{children:[Object(N.jsx)(p.a,{exact:!0,path:"/",children:Object(N.jsx)(z,{sourceType:this.state.sourceType})}),Object(N.jsx)(p.a,{path:"/image/:slug",component:A})]})})]})})}}]),s}(r.a.Component)),F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,56)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(I,{})}),document.getElementById("root")),F()}},[[55,1,2]]]);
//# sourceMappingURL=main.4b7840ce.chunk.js.map