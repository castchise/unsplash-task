(this["webpackJsonpunsplash-test"]=this["webpackJsonpunsplash-test"]||[]).push([[0],{46:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),a=s(32),c=s.n(a),o=(s(46),s(12)),i=s(13),l=s(15),u=s(14),h=s(20),p=s(3),d=s(5),m=s.n(d),j=s(33),f=s(23),b=s(11),x=function(e,t){e.stopPropagation(),navigator.clipboard.writeText(t.urls.regular).then((function(){}),(function(e){return console.log(e)}))};function g(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=window.localStorage,s=Object(f.a)(JSON.parse(t["unsplash-app-storage"]||"[]"));try{var n,r=Object(j.a)(s);try{for(r.s();!(n=r.n()).done;){if(n.value.id===e.id)throw new Error("trying to add image duplicate")}}catch(a){r.e(a)}finally{r.f()}s.push(e)}catch(a){console.log(a)}t.setItem("unsplash-app-storage",JSON.stringify(s))}var v=s(6),w=s(22),N=s(7),k=s(1),S=Object(p.f)((function(e){var t=e.history,s=e.element,n=(e.cyanHandler,e.copyHandler),r=s.alt_description||s.description;return r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),Object(k.jsxs)("div",{className:"p-5 cursor-zoom-in z-20 absolute inset-0 opacity-0 transition-opacity hover:opacity-100 active:cursor-zoom-out",onClick:function(){return t.push({pathname:"/image/".concat(s.id),state:{element:s}})},children:[r?Object(k.jsx)("a",{href:s.links.html,target:"_blank",rel:"noreferrer",className:"relative z-10 block text-white font-normal text-2xl truncate transition-all opacity-80 hover:opacity-100",children:r}):null,Object(k.jsxs)("p",{className:"z-10 relative uppercase text-md font-semibold text-white transition-all opacity-60 hover:opacity-90",children:["by\xa0",Object(k.jsxs)("a",{href:s.user.links.html,target:"_blank",rel:"noreferrer",children:[s.user.first_name,s.user.last_name?" ".concat(s.user.last_name):null]})]}),Object(k.jsx)("div",{className:"cursor-pointer inline-flex items-center justify-center shadow-lg absolute right-3 z-10 bg-white rounded-full",style:{height:30,width:30,bottom:"5rem"},onClick:function(e){return n(e,s)},children:Object(k.jsx)(N.b,{size:18,className:"opacity-30 transition-opacity duration-200 hover:opacity-100"})}),Object(k.jsx)("div",{className:"cursor-pointer inline-flex items-center justify-center shadow-lg absolute right-3 z-10 bg-white rounded-full",style:{height:30,width:30,bottom:"1rem"},onClick:function(e){e.stopPropagation(),y(s)},children:Object(k.jsx)(N.a,{size:20,className:"opacity-30 transition-opacity duration-200 hover:opacity-100"})}),Object(k.jsx)("div",{className:"absolute inset-0 z-0 h-full w-full bg-black-cover bg-opacity-20"})]})})),L=s(40),_=(s(56),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={isLoaded:!1,height:600,width:400},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.props.height<this.props.width&&this.setState({height:400})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"relative",style:{paddingBottom:"".concat(this.props.height/this.props.width*100,"%")},children:[Object(k.jsx)("img",{src:this.props.urls.regular,alt:this.props.alt_description,className:"absolute rounded w-full transition-all ".concat(this.state.isLoaded?"opacity-100":"opacity-0"),onLoad:function(){e.setState({isLoaded:!0})}}),Object(k.jsx)(L.a,{hash:this.props.blur_hash,width:this.props.width,height:this.props.height,color:this.props.color,resolutionX:32,resolutionY:32,punch:1,className:"preload absolute inset-0 transition-all ".concat(this.state.isLoaded?"opacity-0 ":"opacity-100")})]})}}]),s}(r.a.Component)),C=function(e){return Object(k.jsxs)("div",{className:"relative mb-5",children:[Object(k.jsx)(_,Object(v.a)({},e)),Object(k.jsx)(S,{element:e,copyHandler:x})]})},T=s(36),z={500:1,768:2,default:3},E=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).updateListOnScroll=Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Math.floor(window.scrollY/(e.getDocHeight()-window.innerHeight)*100)>70)||e.state.loading){t.next=6;break}return e.setState((function(e){return{page:e.page+1,loading:!e.loading}})),t.next=5,e.getUnsplashPhotos(20);case 5:e.setState((function(e){return{loading:!e.loading}}));case 6:case"end":return t.stop()}}),t)}))),e.getDocHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},e.getUnsplashPhotos=function(){var t=Object(b.a)(m.a.mark((function t(s){var n,r,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(w.a)({accessKey:"0ZpmaJxEBHSlQAtQ4_EaJ1wSe1J5S-c1WTEA8duYfOU"}),t.next=3,n.photos.list({page:e.state.page,perPage:s||20});case 3:r=t.sent,a=r.response,c=e.state.photosList.concat(e.removeAdPictures(a.results)),e.setState({photosList:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getLocalPhotos=function(){var t=window.localStorage,s=Object(f.a)(JSON.parse(t["unsplash-app-storage"]||"[]"));s=s.filter((function(e,t,s){return s.findIndex((function(t){return t.id===e.id}))===t})),e.setState({photosList:s})},e.removeAdPictures=function(e){return e.filter((function(e){return!e.sponsorship&&(e.loaded=!1,e)}))},e.state={photosList:[],page:1,loading:!1},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unsplash"!==this.props.sourceType){e.next=5;break}return e.next=3,this.getUnsplashPhotos();case 3:e.next=6;break;case 5:"local"===this.props.sourceType&&this.getLocalPhotos();case 6:window.addEventListener("scroll",this.updateListOnScroll);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unsplash"!==this.props.sourceType||"local"!==t.sourceType){e.next=7;break}return this.setState({photosList:[]}),window.addEventListener("scroll",this.updateListOnScroll),e.next=5,this.getUnsplashPhotos();case 5:e.next=8;break;case 7:"local"===this.props.sourceType&&"unsplash"===t.sourceType&&(this.setState({photosList:[]}),window.removeEventListener("scroll",this.updateListOnScroll),this.getLocalPhotos());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.updateListOnScroll)}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"p-5 sm:p-7 md:p-10",children:[Object(k.jsx)(T.a,{breakpointCols:z,className:"my-masonry-grid flex -ml-5",columnClassName:"my-masonry-grid_column bg-clip-padding pl-5",children:this.state.photosList.map((function(e){return Object(n.createElement)(C,Object(v.a)(Object(v.a)({},e),{},{key:e.id}))}))}),"local"===this.props.sourceType&&0===this.state.photosList.length?Object(k.jsxs)("div",{className:"mt-24 w-full flex-col text-center ",children:[Object(k.jsx)("p",{className:"mb-5 font-semibold text-4xl",children:"No stored photos found! \ud83d\ude22"}),Object(k.jsx)("p",{className:"text-xl",children:"Change source type and try to add them to your local gallery!"})]}):null]})}}]),s}(r.a.Component),H=function(e){return Object(k.jsxs)("div",{className:"mt-3 flex justify-center flex-wrap sm:justify-start",children:[e.portfolio_url?Object(k.jsxs)("a",{href:"".concat(e.portfolio_url),target:"_blank",rel:"noreferrer",className:"flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline",children:[Object(k.jsx)(N.c,{size:20}),Object(k.jsx)("span",{className:"ml-1",children:e.portfolio_url})]}):null,e.instagram_username?Object(k.jsxs)("a",{href:"https://www.instagram.com/".concat(e.instagram_username),target:"_blank",rel:"noreferrer",className:"".concat(e.portfolio_url?"ml-2 sm:ml-5":""," flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline"),children:[Object(k.jsx)(N.f,{size:20}),Object(k.jsx)("span",{className:"ml-1",children:e.instagram_username})]}):null,e.twitter_username?Object(k.jsxs)("a",{href:"https://www.twitter.com/".concat(e.twitter_username),target:"_blank",rel:"noreferrer",className:"".concat(e.portfolio_url||e.instagram_username?"ml-2 sm:ml-5":""," flex items-center text-gray-400 text-xl hover:text-gray-700 hover:underline"),children:[Object(k.jsx)(N.g,{size:20}),Object(k.jsx)("span",{className:"ml-1",children:e.twitter_username})]}):null]})},P=function(e){return Object(k.jsxs)("div",{className:"flex flex-col mb-3",children:[Object(k.jsxs)("div",{className:"flex",children:[Object(k.jsx)("div",{className:"rounded-full overflow-hidden flex-shrink-0",style:{height:40,width:40},children:Object(k.jsx)("img",{src:e.profile_image.medium,alt:""})}),Object(k.jsxs)("div",{className:"ml-3",children:[Object(k.jsxs)("h2",{className:"text-3xl text-gray-700 font-semibold tracking-tight",children:[Object(k.jsx)("span",{children:e.first_name}),e.last_name?Object(k.jsxs)("span",{children:[" ",e.last_name]}):null]}),e.bio?Object(k.jsx)("h3",{className:"text-xl text-gray-400",children:e.bio}):null]})]}),Object(k.jsx)(H,Object(v.a)({},e))]})},J=s(41),U=function(e){var t=e.children,s=Object(J.a)(e,["children"]);return Object(k.jsx)("button",Object(v.a)(Object(v.a)({className:"py-3 px-10 outline-none border rounded text-xl text-gray-500 border-gray-300 uppercase focus:outline-none hover:bg-gray-500 hover:text-white ".concat(s.contentClasses)},s),{},{children:t}))},I=function(e){function t(e){return s.apply(this,arguments)}function s(){return(s=Object(b.a)(m.a.mark((function t(s){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.createElement("a"),t.next=3,g(e.urls[s]);case 3:n.href=t.sent,n.download="",document.body.appendChild(n),n.click(),document.body.removeChild(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(k.jsxs)("div",{className:"mt-3 flex flex-col items-center",children:[Object(k.jsx)("p",{className:"text-2xl text-gray-500 mb-2",children:"Download:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(U,{contentClasses:"mr-5",onClick:function(){return t("small")},children:"Small"}),Object(k.jsx)(U,{contentClasses:"mr-5",onClick:function(){return t("regular")},children:"Medium"}),Object(k.jsx)(U,{onClick:function(){return t("full")},children:"Large"})]})]})},A=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={element:{}},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.a)({accessKey:"0ZpmaJxEBHSlQAtQ4_EaJ1wSe1J5S-c1WTEA8duYfOU"}),e.next=3,t.photos.get({photoId:this.props.match.params.slug});case 3:s=e.sent,n=s.response,this.setState({element:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"relative flex items-center justify-center",children:[this.state.element.id?Object(k.jsxs)("div",{className:"mt-10 w-full ".concat(this.state.element.height>this.state.element.width?"max-w-500":"max-w-750"),children:[Object(k.jsx)(P,Object(v.a)({},this.state.element.user)),Object(k.jsxs)("div",{className:"relative",children:[this.state.element.location.title?Object(k.jsxs)("h4",{className:"flex items-center text-gray-300 absolute top-3 right-3 z-10 sm:ml-auto",children:[Object(k.jsx)(N.e,{size:15}),Object(k.jsx)("span",{className:"text-1xl",children:this.state.element.location.title})]}):null,Object(k.jsx)(_,Object(v.a)({},this.state.element))]}),Object(k.jsx)(I,Object(v.a)({},this.state.element))]}):null,Object(k.jsx)("div",{className:"cursor-pointer fixed right-1 top-2 sm:absolute sm:right-72 sm:top-12 border bg-white rounded-full shadow-xl flex items-center justify-center transform transition-transform hover:bg-gray-100 hover:translate-y-1",style:{height:45,width:45},onClick:function(){return e.props.history.push("/")},children:Object(k.jsx)(N.d,{size:25})}),Object(k.jsx)("div",{className:"cursor-pointer fixed right-1 top-24 sm:absolute sm:right-72 sm:top-36 border bg-white rounded-full shadow-xl flex items-center justify-center transform transition-transform hover:bg-gray-100 hover:translate-y-1",style:{height:45,width:45},onClick:function(){return y(e.state.element)},children:Object(k.jsx)(N.a,{size:35})})]})}}]),s}(r.a.Component),D=s(38),M=s(39),B=Object(p.f)((function(e){var t=e.sourceType,s=e.changeSourceType,n=e.clearLocalItems,r=e.history;return Object(k.jsx)("header",{className:"py-5 shadow-md sticky top-0 left-0 w-full z-50 bg-white",children:Object(k.jsxs)("div",{className:"max-w-1200 mx-auto flex items-center px-5 md:px-10",children:[Object(k.jsxs)("div",{className:"flex cursor-pointer",onClick:function(){return r.push("/")},children:["unsplash"===t?Object(k.jsx)(D.a,{size:25}):Object(k.jsx)(M.a,{size:25}),Object(k.jsxs)("p",{className:"font-bold leading-none ml-2 flex flex-col",children:["unsplash"===t?Object(k.jsx)("span",{className:"text-xl",children:"UNSPLASH"}):Object(k.jsx)("span",{className:"text-xl",children:"LOCAL"}),Object(k.jsx)("span",{className:"-mt-1 font-normal",children:"gallery"})]})]}),"local"===t&&JSON.parse(window.localStorage["unsplash-app-storage"]||"[]").length>0?Object(k.jsx)("div",{className:"ml-auto cursor-pointer text-lg uppercase font-semibold flex items-center hover:underline",onClick:function(){return n("unsplash-app-storage")},children:"remove stored images"}):null,Object(k.jsx)("div",{className:"ml-auto cursor-pointer transition-transform transform hover:rotate-180 active:rotate-360",onClick:function(){return s("unsplash"===t?"local":"unsplash")},children:Object(k.jsx)(N.h,{size:25})})]})})})),F=(s(57),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).changeSourceType=function(t){e.setState({sourceType:t})},e.clearLocalItems=function(t){!function(e){window.localStorage.setItem(e,[])}(t),e.setState({sourceType:"unsplash"})},e.state={sourceType:"unsplash"},e}return Object(i.a)(s,[{key:"render",value:function(){return Object(k.jsx)("div",{children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)(B,{sourceType:this.state.sourceType,changeSourceType:this.changeSourceType,clearLocalItems:this.clearLocalItems}),Object(k.jsx)("main",{className:"max-w-1200 mx-auto",children:Object(k.jsxs)(p.c,{children:[Object(k.jsx)(p.a,{exact:!0,path:"/",children:Object(k.jsx)(E,{sourceType:this.state.sourceType})}),Object(k.jsx)(p.a,{path:"/image/:slug",component:A})]})})]})})}}]),s}(r.a.Component)),Q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,59)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(F,{})}),document.getElementById("root")),Q()}},[[58,1,2]]]);
//# sourceMappingURL=main.6f24c7dd.chunk.js.map